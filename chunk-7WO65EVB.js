import{g as n,s as c}from"./chunk-45QSGMLT.js";var h=class o{storageKey="quiz-match-state";matchStateSubject=new n(null);matchState$=this.matchStateSubject.asObservable();team1DarkColor="#80FF80";team1LightColor="#C0FFC0";team2DarkColor="#FFFF80";team2LightColor="#FFFFC0";constructor(){if(typeof window<"u")try{let t=window.sessionStorage.getItem(this.storageKey);if(t){let e=JSON.parse(t);this.matchStateSubject.next(e)}}catch(t){console.warn("Unable to restore quiz match state from storage:",t)}}getTeam1DarkColor(){return this.team1DarkColor}getTeam1LightColor(){return this.team1LightColor}getTeam2DarkColor(){return this.team2DarkColor}getTeam2LightColor(){return this.team2LightColor}setTeamColors(t,e,a,i){this.team1DarkColor=t,this.team1LightColor=e,this.team2DarkColor=a,this.team2LightColor=i}getMatchState(){return this.matchStateSubject.value}setMatchState(t){this.matchStateSubject.next(t),this.persistState(t)}updateScore(t,e){let a=this.matchStateSubject.value;a&&(t===1?a.team1Score+=e:a.team2Score+=e,this.matchStateSubject.next(a))}updatePlayerStats(t,e,a,i){let r=this.matchStateSubject.value;if(r){let s=t===1?r.team1Roster:r.team2Roster;s[e]&&(s[e][a]=i,this.matchStateSubject.next(r))}}resetMatch(){this.matchStateSubject.next(null),this.clearPersistedState()}persistState(t){if(!(typeof window>"u"))try{t?window.sessionStorage.setItem(this.storageKey,JSON.stringify(t)):window.sessionStorage.removeItem(this.storageKey)}catch(e){console.warn("Unable to persist quiz match state:",e)}}clearPersistedState(){if(!(typeof window>"u"))try{window.sessionStorage.removeItem(this.storageKey)}catch(t){console.warn("Unable to clear quiz match state:",t)}}static \u0275fac=function(e){return new(e||o)};static \u0275prov=c({token:o,factory:o.\u0275fac,providedIn:"root"})};export{h as a};
