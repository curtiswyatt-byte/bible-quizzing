import{a as l,b as F}from"./chunk-RURAUEF7.js";import{b as O,c as w,d as T,e as W,f as E,g as B,h as k,m as q,n as x,o as D,p as z}from"./chunk-GJ3ACHC3.js";import{Fa as f,H as r,Ha as P,M,N as h,Na as v,R as y,W as _,X as n,Y as i,a as c,ba as S,ca as C,ha as a,ia as b,na as g,oa as u,pa as d}from"./chunk-45QSGMLT.js";function N(p,s){if(p&1&&(n(0,"div",21),a(1),i()),p&2){let m=C();r(),b(m.savedBanner)}}var L=class p{constructor(s,m){this.matchSettingsService=s;this.router=m}settings=c({},l);savedBanner="";ngOnInit(){this.settings=c({},this.matchSettingsService.getSettings())}onSave(){this.normalize(),this.matchSettingsService.updateSettings(c({},this.settings)),this.savedBanner="Settings saved.",setTimeout(()=>{this.savedBanner=""},2e3)}onReset(){this.settings=c({},l),this.matchSettingsService.resetToDefaults(),this.savedBanner="Settings reset to defaults.",setTimeout(()=>{this.savedBanner=""},2e3)}onCancel(){this.router.navigate(["/"])}normalize(){let s=(m,t,o=0)=>{let e=Number(m);return Number.isFinite(e)?Math.max(o,Math.floor(e)):t};this.settings={timeoutsPerTeam:s(this.settings.timeoutsPerTeam,l.timeoutsPerTeam,0),answerTimeSeconds:s(this.settings.answerTimeSeconds,l.answerTimeSeconds,1),speakWaitSeconds:s(this.settings.speakWaitSeconds,l.speakWaitSeconds,0),timeoutDurationSeconds:s(this.settings.timeoutDurationSeconds,l.timeoutDurationSeconds,1),appealsPerTeam:s(this.settings.appealsPerTeam,l.appealsPerTeam,0),appealDurationSeconds:s(this.settings.appealDurationSeconds,l.appealDurationSeconds,1),quizOutCorrect:s(this.settings.quizOutCorrect,l.quizOutCorrect,1),quizOutBonusPoints:s(this.settings.quizOutBonusPoints,l.quizOutBonusPoints),errorOutMisses:s(this.settings.errorOutMisses,l.errorOutMisses,1),errorOutPenaltyPoints:s(this.settings.errorOutPenaltyPoints,l.errorOutPenaltyPoints),foulsToFoulOut:s(this.settings.foulsToFoulOut,l.foulsToFoulOut,1),foulOutPenalty:s(this.settings.foulOutPenalty,l.foulOutPenalty),bonusQuestionPoints:s(this.settings.bonusQuestionPoints,l.bonusQuestionPoints)}}static \u0275fac=function(m){return new(m||p)(M(F),M(v))};static \u0275cmp=h({type:p,selectors:[["app-match-settings"]],decls:73,vars:14,consts:[[1,"settings-container"],[1,"settings-header"],["class","status-banner",4,"ngIf"],[1,"settings-grid",3,"ngSubmit"],["type","number","name","timeoutsPerTeam","min","0","required","",3,"ngModelChange","ngModel"],["type","number","name","answerTimeSeconds","min","1","required","",3,"ngModelChange","ngModel"],["type","number","name","speakWaitSeconds","min","0","required","",3,"ngModelChange","ngModel"],["type","number","name","timeoutDurationSeconds","min","1","required","",3,"ngModelChange","ngModel"],["type","number","name","appealsPerTeam","min","0","required","",3,"ngModelChange","ngModel"],["type","number","name","appealDurationSeconds","min","1","required","",3,"ngModelChange","ngModel"],["type","number","name","quizOutCorrect","min","1","required","",3,"ngModelChange","ngModel"],["type","number","name","quizOutBonusPoints","required","",3,"ngModelChange","ngModel"],["type","number","name","errorOutMisses","min","1","required","",3,"ngModelChange","ngModel"],["type","number","name","errorOutPenaltyPoints","max","0","required","",3,"ngModelChange","ngModel"],["type","number","name","foulsToFoulOut","min","1","required","",3,"ngModelChange","ngModel"],["type","number","name","foulOutPenalty","max","0","required","",3,"ngModelChange","ngModel"],["type","number","name","bonusQuestionPoints","required","",3,"ngModelChange","ngModel"],[1,"action-bar"],["type","button",1,"btn",3,"click"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-ghost",3,"click"],[1,"status-banner"]],template:function(m,t){m&1&&(n(0,"div",0)(1,"div",1)(2,"h1"),a(3,"Match Settings"),i(),n(4,"p"),a(5,"Tune gameplay controls so every quiz flows the way you expect."),i(),y(6,N,2,1,"div",2),i(),n(7,"form",3),S("ngSubmit",function(){return t.onSave()}),n(8,"fieldset")(9,"legend"),a(10,"Flow & Timing"),i(),n(11,"label")(12,"span"),a(13,"Timeouts per Team"),i(),n(14,"input",4),d("ngModelChange",function(e){return u(t.settings.timeoutsPerTeam,e)||(t.settings.timeoutsPerTeam=e),e}),i()(),n(15,"label")(16,"span"),a(17,"Seconds to Answer"),i(),n(18,"input",5),d("ngModelChange",function(e){return u(t.settings.answerTimeSeconds,e)||(t.settings.answerTimeSeconds=e),e}),i()(),n(19,"label")(20,"span"),a(21,"Seconds to Start Speaking"),i(),n(22,"input",6),d("ngModelChange",function(e){return u(t.settings.speakWaitSeconds,e)||(t.settings.speakWaitSeconds=e),e}),i()(),n(23,"label")(24,"span"),a(25,"Timeout Duration (seconds)"),i(),n(26,"input",7),d("ngModelChange",function(e){return u(t.settings.timeoutDurationSeconds,e)||(t.settings.timeoutDurationSeconds=e),e}),i()(),n(27,"label")(28,"span"),a(29,"Appeals per Team"),i(),n(30,"input",8),d("ngModelChange",function(e){return u(t.settings.appealsPerTeam,e)||(t.settings.appealsPerTeam=e),e}),i()(),n(31,"label")(32,"span"),a(33,"Appeal Duration (seconds)"),i(),n(34,"input",9),d("ngModelChange",function(e){return u(t.settings.appealDurationSeconds,e)||(t.settings.appealDurationSeconds=e),e}),i()()(),n(35,"fieldset")(36,"legend"),a(37,"Scoring & Limits"),i(),n(38,"label")(39,"span"),a(40,"Correct Answers to Quiz Out"),i(),n(41,"input",10),d("ngModelChange",function(e){return u(t.settings.quizOutCorrect,e)||(t.settings.quizOutCorrect=e),e}),i()(),n(42,"label")(43,"span"),a(44,"Quiz Out Bonus (points)"),i(),n(45,"input",11),d("ngModelChange",function(e){return u(t.settings.quizOutBonusPoints,e)||(t.settings.quizOutBonusPoints=e),e}),i()(),n(46,"label")(47,"span"),a(48,"Misses to Error Out"),i(),n(49,"input",12),d("ngModelChange",function(e){return u(t.settings.errorOutMisses,e)||(t.settings.errorOutMisses=e),e}),i()(),n(50,"label")(51,"span"),a(52,"Error Out Penalty (points)"),i(),n(53,"input",13),d("ngModelChange",function(e){return u(t.settings.errorOutPenaltyPoints,e)||(t.settings.errorOutPenaltyPoints=e),e}),i()(),n(54,"label")(55,"span"),a(56,"Fouls to Foul Out"),i(),n(57,"input",14),d("ngModelChange",function(e){return u(t.settings.foulsToFoulOut,e)||(t.settings.foulsToFoulOut=e),e}),i()(),n(58,"label")(59,"span"),a(60,"Foul Out Penalty (points)"),i(),n(61,"input",15),d("ngModelChange",function(e){return u(t.settings.foulOutPenalty,e)||(t.settings.foulOutPenalty=e),e}),i()(),n(62,"label")(63,"span"),a(64,"Bonus Question Points"),i(),n(65,"input",16),d("ngModelChange",function(e){return u(t.settings.bonusQuestionPoints,e)||(t.settings.bonusQuestionPoints=e),e}),i()()()(),n(66,"div",17)(67,"button",18),S("click",function(){return t.onSave()}),a(68,"Save"),i(),n(69,"button",19),S("click",function(){return t.onReset()}),a(70,"Reset Defaults"),i(),n(71,"button",20),S("click",function(){return t.onCancel()}),a(72,"Back"),i()()()),m&2&&(r(6),_("ngIf",t.savedBanner),r(8),g("ngModel",t.settings.timeoutsPerTeam),r(4),g("ngModel",t.settings.answerTimeSeconds),r(4),g("ngModel",t.settings.speakWaitSeconds),r(4),g("ngModel",t.settings.timeoutDurationSeconds),r(4),g("ngModel",t.settings.appealsPerTeam),r(4),g("ngModel",t.settings.appealDurationSeconds),r(7),g("ngModel",t.settings.quizOutCorrect),r(4),g("ngModel",t.settings.quizOutBonusPoints),r(4),g("ngModel",t.settings.errorOutMisses),r(4),g("ngModel",t.settings.errorOutPenaltyPoints),r(4),g("ngModel",t.settings.foulsToFoulOut),r(4),g("ngModel",t.settings.foulOutPenalty),r(4),g("ngModel",t.settings.bonusQuestionPoints))},dependencies:[P,f,z,B,O,k,w,T,D,x,q,E,W],styles:[".settings-container[_ngcontent-%COMP%]{max-width:960px;margin:0 auto;display:flex;flex-direction:column;gap:var(--spacing-lg);padding:var(--spacing-xl)}.settings-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0 0 var(--spacing-sm) 0;font-size:2rem;font-family:var(--font-heading)}.settings-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:var(--xl-gray-dark)}.status-banner[_ngcontent-%COMP%]{margin-top:var(--spacing-sm);padding:var(--spacing-sm) var(--spacing-md);border-radius:var(--radius-sm);background:var(--xl-blue-light);color:var(--xl-blue-dark);font-weight:600}.settings-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:var(--spacing-lg)}fieldset[_ngcontent-%COMP%]{border:1px solid var(--xl-gray);border-radius:var(--radius-lg);padding:var(--spacing-lg);display:flex;flex-direction:column;gap:var(--spacing-md);background:var(--xl-white);box-shadow:var(--shadow-md)}legend[_ngcontent-%COMP%]{font-weight:700;padding:0 var(--spacing-sm);color:var(--xl-blue-dark)}label[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--spacing-xs);font-weight:600;color:var(--xl-gray-dark)}input[type=number][_ngcontent-%COMP%]{padding:var(--spacing-sm);border-radius:var(--radius-sm);border:1px solid var(--xl-gray);font-size:1rem}.action-bar[_ngcontent-%COMP%]{display:flex;gap:var(--spacing-sm);justify-content:flex-end}.btn[_ngcontent-%COMP%]{padding:var(--spacing-sm) var(--spacing-lg);border-radius:var(--radius-sm);border:none;cursor:pointer;font-weight:600;background:var(--xl-blue);color:var(--xl-white);transition:transform var(--transition-base),box-shadow var(--transition-base)}.btn[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:var(--shadow-sm)}.btn-secondary[_ngcontent-%COMP%]{background:var(--xl-gray-dark)}.btn-ghost[_ngcontent-%COMP%]{background:transparent;color:var(--xl-gray-dark);border:1px solid var(--xl-gray)}@media (max-width: 768px){.settings-container[_ngcontent-%COMP%]{padding:var(--spacing-lg)}}"]})};export{L as MatchSettingsComponent};
