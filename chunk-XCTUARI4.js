import{a as V}from"./chunk-KODUIQMG.js";import{b as q,c as z,d as S,e as w,f as P,g as O,i as N,k as F,l as x,o as B,p as E}from"./chunk-GJ3ACHC3.js";import{Ea as y,Fa as k,H as l,Ha as M,M as f,N as _,Na as I,R as c,W as g,X as n,Y as t,Z as v,ba as h,ca as C,d as b,ha as r,ia as D,na as m,oa as u,pa as p}from"./chunk-45QSGMLT.js";function W(s,o){if(s&1&&v(0,"option",27),s&2){let a=o.$implicit;g("value",a)}}function T(s,o){if(s&1&&v(0,"option",27),s&2){let a=o.$implicit;g("value",a)}}function L(s,o){if(s&1&&(n(0,"div",4)(1,"label",19),r(2,"Active Dataset:"),t(),n(3,"p",28),r(4),t()()),s&2){let a=C();l(4),D(a.datasetId)}}var U=class s{constructor(o,a){this.dbService=o;this.router=a}book="";quizDBname="";quizIDPre="";quizIDNum="";backupDrive="A";bookVersion="";datasetId=null;bookOptions=["James","Titus","Philippians","Luke","Matthew","Mark","Acts","Romans","Hebrews"];versionOptions=["NIV 1984","ESV","NASB","NKJV","KJV","NIV 2011"];ngOnInit(){return b(this,null,function*(){let o=yield this.dbService.getUserFile();o?(this.book=o.book,this.quizDBname=o.quizDBname,this.quizIDPre=o.quizIDPre,this.quizIDNum=o.quizIDNum,this.backupDrive=o.backupDrive,this.bookVersion=o.bookVersion||this.versionOptions[0],this.datasetId=o.datasetId??null):this.bookVersion=this.versionOptions[0]})}onAccept(){return b(this,null,function*(){if(!this.book.trim()){alert("Book name must be entered.");return}if(!this.quizDBname.trim()){alert("Database location must be entered.");return}if(!this.quizIDPre.trim()){alert("Quiz tournament name prefix must be entered.");return}if(!this.quizIDNum.trim()){alert("Quiz tournament number must be entered.");return}let o={book:this.book.trim(),quizDBname:this.quizDBname.trim(),quizIDPre:this.quizIDPre.trim(),quizIDNum:this.quizIDNum.trim(),backupDrive:this.backupDrive,bookVersion:this.bookVersion.trim(),datasetId:this.datasetId??void 0};try{yield this.dbService.saveUserFile(o),this.onCancel()}catch(a){console.error("Error saving user file:",a),alert("Error saving configuration. Please try again.")}})}onCancel(){this.router.navigate(["/"])}static \u0275fac=function(a){return new(a||s)(f(V),f(I))};static \u0275cmp=_({type:s,selectors:[["app-user-file"]],decls:46,vars:10,consts:[[1,"user-file-container"],[1,"user-file-header"],[1,"user-file-content"],[1,"user-file-form"],[1,"form-group"],["for","book",1,"form-label"],["type","text","id","book","name","book","list","bookOptionsList","required","",1,"form-control",3,"ngModelChange","ngModel"],["id","bookOptionsList"],[3,"value",4,"ngFor","ngForOf"],["for","bookVersion",1,"form-label"],["type","text","id","bookVersion","name","bookVersion","list","versionOptionsList","placeholder","e.g., NIV 1984","required","",1,"form-control",3,"ngModelChange","ngModel"],["id","versionOptionsList"],["class","form-group",4,"ngIf"],["for","quizDBname",1,"form-label"],["type","text","id","quizDBname","name","quizDBname","placeholder","e.g., c:\\BibleQuiz\\James98.mdb","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","quizIDPre",1,"form-label"],["type","text","id","quizIDPre","name","quizIDPre","placeholder","e.g., Quiz","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","quizIDNum",1,"form-label"],["type","text","id","quizIDNum","name","quizIDNum","placeholder","e.g., 05/31/98 or 1","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-label"],[1,"radio-group"],[1,"radio-label"],["type","radio","name","backupDrive","value","A",3,"ngModelChange","ngModel"],["type","radio","name","backupDrive","value","B",3,"ngModelChange","ngModel"],[1,"form-actions"],["type","button",1,"btn",3,"click"],["type","button",1,"btn","btn-secondary",3,"click"],[3,"value"],[1,"dataset-id"]],template:function(a,i){a&1&&(n(0,"div",0)(1,"div",1)(2,"h1"),r(3,"User File Update"),t()(),n(4,"div",2)(5,"form",3)(6,"div",4)(7,"label",5),r(8,"Book Name:"),t(),n(9,"input",6),p("ngModelChange",function(e){return u(i.book,e)||(i.book=e),e}),t(),n(10,"datalist",7),c(11,W,1,1,"option",8),t()(),n(12,"div",4)(13,"label",9),r(14,"Scripture Version:"),t(),n(15,"input",10),p("ngModelChange",function(e){return u(i.bookVersion,e)||(i.bookVersion=e),e}),t(),n(16,"datalist",11),c(17,T,1,1,"option",8),t()(),c(18,L,5,1,"div",12),n(19,"div",4)(20,"label",13),r(21,"Database Location:"),t(),n(22,"input",14),p("ngModelChange",function(e){return u(i.quizDBname,e)||(i.quizDBname=e),e}),t()(),n(23,"div",4)(24,"label",15),r(25,"Tournament Prefix:"),t(),n(26,"input",16),p("ngModelChange",function(e){return u(i.quizIDPre,e)||(i.quizIDPre=e),e}),t()(),n(27,"div",4)(28,"label",17),r(29,"Tournament Number:"),t(),n(30,"input",18),p("ngModelChange",function(e){return u(i.quizIDNum,e)||(i.quizIDNum=e),e}),t()(),n(31,"div",4)(32,"label",19),r(33,"Backup Drive:"),t(),n(34,"div",20)(35,"label",21)(36,"input",22),p("ngModelChange",function(e){return u(i.backupDrive,e)||(i.backupDrive=e),e}),t(),r(37," A "),t(),n(38,"label",21)(39,"input",23),p("ngModelChange",function(e){return u(i.backupDrive,e)||(i.backupDrive=e),e}),t(),r(40," B "),t()()(),n(41,"div",24)(42,"button",25),h("click",function(){return i.onAccept()}),r(43,"Accept"),t(),n(44,"button",26),h("click",function(){return i.onCancel()}),r(45,"Cancel"),t()()()()()),a&2&&(l(9),m("ngModel",i.book),l(2),g("ngForOf",i.bookOptions),l(4),m("ngModel",i.bookVersion),l(2),g("ngForOf",i.versionOptions),l(),g("ngIf",i.datasetId),l(4),m("ngModel",i.quizDBname),l(4),m("ngModel",i.quizIDPre),l(4),m("ngModel",i.quizIDNum),l(6),m("ngModel",i.backupDrive),l(3),m("ngModel",i.backupDrive))},dependencies:[M,y,k,E,O,F,x,q,N,z,S,B,P,w],styles:[".user-file-container[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(135deg,var(--xl-gray-light) 0%,var(--xl-white) 100%);padding:var(--spacing-xl)}.user-file-header[_ngcontent-%COMP%]{margin-bottom:var(--spacing-xl);background:var(--xl-white);padding:var(--spacing-lg);border-radius:var(--radius-lg);box-shadow:var(--shadow-md)}.user-file-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-family:var(--font-heading);font-size:2rem;color:var(--xl-blue-dark);font-weight:700}.user-file-content[_ngcontent-%COMP%]{max-width:700px;margin:0 auto}.user-file-form[_ngcontent-%COMP%]{background:var(--xl-white);border-radius:var(--radius-lg);padding:var(--spacing-xl);box-shadow:var(--shadow-lg);border:1px solid var(--xl-gray)}.radio-group[_ngcontent-%COMP%]{display:flex;gap:var(--spacing-xl);margin-top:var(--spacing-sm);flex-wrap:wrap}.radio-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--spacing-sm);cursor:pointer;padding:var(--spacing-sm);border-radius:var(--radius-sm);transition:all var(--transition-base)}.radio-label[_ngcontent-%COMP%]:hover{background-color:var(--xl-blue-lighter)}.radio-label[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]{cursor:pointer;width:1.25rem;height:1.25rem;accent-color:var(--xl-blue)}.form-actions[_ngcontent-%COMP%]{display:flex;gap:var(--spacing-md);margin-top:var(--spacing-xl);padding-top:var(--spacing-lg);border-top:2px solid var(--xl-gray)}@media (max-width: 768px){.user-file-container[_ngcontent-%COMP%]{padding:var(--spacing-md)}.radio-group[_ngcontent-%COMP%]{flex-direction:column;gap:var(--spacing-md)}}"]})};export{U as UserFileComponent};
